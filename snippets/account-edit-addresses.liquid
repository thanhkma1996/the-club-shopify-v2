{%- include 'globals' -%}

<div class="account-cards account-address">
  <div class="account-card">
    {%- for address in customer.addresses -%}
      <div id="EditAddress_{{ address.id }}"
           data-address-form-id="{{ address.id }}"
           style="display: none"
           class="account-address__form"
      >
        {% form 'customer_address', address %}

          <input type="hidden" name="return_to" value="/account/addresses" />

          <div class="account-card__title">
            {{ 'customer.addresses.edit_address' | t }}
          </div>

          <div class="account-card__content">

            <div class="form-vertical row">

              <div class="col-xs-12 col-md-6">
                <div class="select-wrapper">
                  <label for="AddressCountry_{{ form.id }}">{{ 'customer.addresses.country' | t }}</label>
                  <select id="AddressCountry_{{ form.id }}" class="address-country-option select-base" data-form-id="{{ form.id }}" name="address[country]" data-default="{{ form.country }}">{{ country_option_tags }}</select>
                </div>
              </div>
              <div class="col-xs-12 col-md-6">
                <div class="input-wrapper">
                  <label for="AddressFirstName_{{ form.id }}">{{ 'customer.addresses.full_name' | t }}</label>
                  <input class="input-base" type="text" id="AddressFirstName_{{ form.id }}" name="address[first_name]" value="{{ form.first_name }}" size="40">
                </div>
              </div>
              <div class="col-xs-12 col-md-6">
                <div class="input-wrapper">
                  <label for="AddressCompany_{{ form.id }}">{{ 'customer.addresses.company_name' | t }}</label>
                  <input class="input-base" type="text" id="AddressCompany_{{ form.id }}" name="address[company]" value="{{ form.company }}">
                </div>
              </div>
              <div class="col-xs-12 col-md-6">
                <div class="input-wrapper">
                  <label for="AddressPhoneNew_{{ form.id }}">{{ 'customer.addresses.phone' | t }}</label>
                  <input class="input-base" type="text" id="AddressPhoneNew_{{ form.id }}" name="address[phone]" value="{{ form.phone }}">
                </div>
              </div>
              <div class="col-xs-12">
                <div class="row">
                  <div class="col-xs-12 col-md-6">
                    <div class="input-wrapper">
                      <label for="AddressAddress1_{{ form.id }}">{{ 'customer.addresses.address1' | t }}</label>
                      <input class="input-base" type="text" id="AddressAddress1_{{ form.id }}" name="address[address1]" value="{{ form.address1 }}">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xs-12 col-md-6">
                <div class="row">
                  <div class="col-xs-6">
                    <div class="input-wrapper">
                      <label for="AddressAddress2_{{ form.id }}">{{ 'customer.addresses.address2' | t }}</label>
                      <input class="input-base" type="text" id="AddressAddress2_{{ form.id }}" name="address[address2]" value="{{ form.address2 }}">
                    </div>
                  </div>
                  <div class="col-xs-6">
                    <div class="input-wrapper">
                      <label for="AddressCity_{{ form.id }}">{{ 'customer.addresses.city' | t }}</label>
                      <input class="input-base" type="text" id="AddressCity_{{ form.id }}" name="address[city]" value="{{ form.city }}">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xs-12">
                <div class="row">
                  <div class="col-xs-12 col-md-6">
                    <div class="row">
                      <div class="col-xs-6">
                        <div class="input-wrapper">
                          <label for="AddressZip_{{ form.id }}">{{ 'customer.addresses.zip' | t }}</label>
                          <input class="input-base" type="text" id="AddressZip_{{ form.id }}" name="address[zip]" value="{{ form.zip }}" autocapitalize="characters">
                        </div>
                      </div>
                      <div class="col-xs-6">
                        <div class="select-wrapper" id="AddressProvinceContainer_{{ form.id }}" style="display:none">
                          <label for="AddressProvince_{{ form.id }}">{{ 'customer.addresses.province' | t }}</label>
                          <select class="select-base" id="AddressProvince_{{ form.id }}" name="address[province]" data-default="{{ form.province }}"></select>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              {% if address != customer.default_address %}
              <div class="col-xs-12">
                {{ form.set_as_default_checkbox }}
                <label for="address_default_address_{{ form.id }}">{{ 'customer.addresses.set_default' | t }}</label>
              </div>
              {% endif %}

            </div>
          </div>

          <div class="account-card__footer">
            <button type="submit" class="btn btn-black btn--wide">{{ 'customer.addresses.update' | t }}</button>
            <button type="button" class="btn btn-primary-o" data-address-form>Close</button>
          </div>

        {% endform %}

      </div>
    {%- endfor -%}

    <div id="AddressNewForm"
         data-address-form-id="AddressNewForm"
         style="display: none"
         class="account-address__form"
    >
      {% form 'customer_address', customer.new_address %}

        <div class="account-card__title">
          {{ 'customer.addresses.add_new' | t }}
        </div>

        <input type="hidden" name="return_to" value="/account/addresses" />

        <div class="account-card__content">
          <div class="form-vertical row">
            <div class="col-xs-12 col-md-6">
              <div class="select-wrapper">
                <label for="AddressCountryNew">{{ 'customer.addresses.country' | t }}</label>
                <select id="AddressCountryNew"
                        class="select-base"
                        name="address[country]"
                        required
                        data-default="{{ form.country }}">{{ country_option_tags }}</select>
              </div>
            </div>
            <div class="col-xs-12 col-md-6">
              <div class="input-wrapper">
                <label for="AddressFirstNameNew_{{ form.id }}">{{ 'customer.addresses.full_name' | t }}</label>
                <input class="input-base" type="text" id="AddressFirstNameNew_{{ form.id }}" name="address[first_name]"
                       value="{{ form.first_name }}" size="40" required>
              </div>
            </div>
            <div class="col-xs-12 col-md-6">
              <div class="input-wrapper">
                <label for="AddressCompanyNew_{{ form.id }}">{{ 'customer.addresses.company_name' | t }}</label>
                <input type="text" id="AddressCompanyNew_{{ form.id }}"
                       class="input-base"
                       name="address[company]"
                       value="{{ form.company }}">
              </div>
            </div>

            <div class="col-xs-12 col-md-6">
              <div class="input-wrapper">
                <label for="AddressPhoneNew_{{ form.id }}">{{ 'customer.addresses.phone' | t }}</label>
                <input type="text" id="AddressPhoneNew_{{ form.id }}" class="input-base" required name="address[phone]" value="{{ form.phone }}">
              </div>
            </div>
            <div class="col-xs-12">
              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <div class="input-wrapper">
                    <label for="AddressAddress1New">{{ 'customer.addresses.address1' | t }}</label>
                    <input type="text" id="AddressAddress1New" required class="input-base" name="address[address1]"
                           value="{{ form.address1 }}">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12">
              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <div class="row">
                    <div class="col-xs-6">
                      <div class="input-wrapper">
                        <label for="AddressAddress2New">{{ 'customer.addresses.address2' | t }}</label>
                        <input type="text" id="AddressAddress2New" class="input-base" name="address[address2]"
                               value="{{ form.address2 }}">
                      </div>
                    </div>
                    <div class="col-xs-6">
                      <div class="input-wrapper">
                        <label for="AddressCityNew">{{ 'customer.addresses.city' | t }}</label>
                        <input type="text" id="AddressCityNew" required class="input-base" name="address[city]"
                               value="{{ form.city }}">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12">
              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <div class="row">
                    <div class="col-xs-6">
                      <div class="input-wrapper">
                        <label for="AddressZipNew">{{ 'customer.addresses.zip' | t }}</label>
                        <input type="text" id="AddressZipNew" required class="input-base" name="address[zip]" value="{{ form.zip }}"
                               autocapitalize="characters">
                      </div>
                    </div>
                    <div class="col-xs-6" id="AddressProvinceContainerNew" style="display:none">
                      <div class="select-wrapper">
                        <label for="AddressProvinceNew">{{ 'customer.addresses.province' | t }}</label>
                        <select id="AddressProvinceNew"
                                class="select-base"
                                required
                                name="address[province]" data-default="{{ form.province }}"></select>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12">
              {{ form.set_as_default_checkbox }}
              <label for="address_default_address_new">{{ 'customer.addresses.set_default' | t }}</label>
            </div>

          </div>
        </div>

        <div class="account-card__footer">
          <button type="submit" class="btn btn-black btn--wide">{{ 'customer.addresses.add' | t }}</button>
          <button type="button" class="btn btn-primary-o" data-address-form>Close</button>
        </div>

      {% endform %}
    </div>
  </div>
</div>
