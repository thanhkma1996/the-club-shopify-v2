{%- for block in section.blocks -%}
  {% if block.type == 'footer_text' %}
    {% assign block_text = 1 %}
  {% elsif block.type == 'form_field' %}
    {% assign block_form = 1 %}
  {% endif %}
{%- endfor -%}

<section class="container rte sponsorship-rte">
    {{ page.content }}
</section>

<div class="container sponsorship-form-container">
  {%- include 'form-builder' with form_type: 'contact', form_class: 'sponsorship', form_prefix: 'sponsorship' -%}
</div>

{% if block_text == 1 %}
  <div class="container sponsorship-footer">
    {%- for block in section.blocks -%}
      {% if block.type == 'footer_text' %}
        {% assign b_sett = block.settings %}
        {% if b_sett.title != blank or b_sett.text != blank %}
          <section class="sponsorship-footer__section">
            {% if  b_sett.title != blank %}
              <h4 class="sponsorship-footer__title">{{ b_sett.title }}</h4>
            {% endif %}
            {% if  b_sett.text != blank %}
              <div class="sponsorship-footer__content">{{ b_sett.text }}</div>
            {% endif %}
          </section>
        {% endif %}
      {% endif %}
    {%- endfor -%}
  </div>
{% endif %}

{% schema %}
  {
    "name": "Sponsorship content",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Form Name"
      },
      {
        "type": "url",
        "id": "redirect_url",
        "label": "Redirect form to"
      },
      {
        "type": "checkbox",
        "id": "hide_form",
        "label": "Hide form if submission is successful",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_atrix",
        "label": "Show Label*",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_optional",
        "label": "Show (optional)",
        "default": false
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Form Heading"
      },
      {
        "type": "richtext",
        "id": "description",
        "label": "Form Description"
      },
      {
        "type": "select",
        "id": "position",
        "label": "Description Position",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "center",
            "label": "Center"
          },
          {
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "center"
      }
    ],
    "blocks": [
      {
        "type": "footer_text",
        "name": "Footer text",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Text"
          }
        ]
      },
      {
        "name": "Country",
        "type": "text_country_dropdown",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Input Label"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Input Id"
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "none"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 4
          }
        ]
      },
      {
        "name": "Additional Settings",
        "type": "additional_settings",
        "limit": 1,
        "settings": [
          {
            "type": "richtext",
            "id": "success_message",
            "label": "Success Message",
            "info":"The message displayed once the form is successfully submitted"
          },
          {
            "type": "richtext",
            "id": "error_message",
            "label": "Error Message",
            "info":"The message displayed if the form is unsuccessful on submission"
          }
        ]
      },
      {
        "name": "Phone",
        "type": "text_phone",
        "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Input Label"
          },
          {
            "type": "checkbox",
            "id": "mask_number",
            "label": "Phone mask"
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "none"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      },
      {
        "name": "Date",
        "type": "text_day_mask",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Input Label"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Day Id"
          },
          {
            "type": "checkbox",
            "id": "mask_day",
            "label": "Date mask"
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "top"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      },
      {
        "name": "Text Input",
        "type": "text_input",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Input Label"
          },
          {
            "type": "text",
            "id": "text_placeholder",
            "label": "Placeholder"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Input Id"
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "none"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      },
      {
        "name": "Textarea",
        "type": "text_textarea",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Textarea Label"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Textarea Id"
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "none"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      },
      {
        "name": "Upload file",
        "type": "upload_file",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Upload Label"
          },
          {
            "type": "text",
            "id": "text_footer",
            "label": "Footer text"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Upload Id"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 4
          }
        ]
      },
      {
        "name": "Text section",
        "type": "text_section",
        "settings": [
          {
            "type": "textarea",
            "id": "title",
            "label": "Text section"
          },
          {
          "type": "range",
          "id": "width",
          "min": 0,
          "max": 12,
          "step": 1,
          "unit": "col",
          "label": "Width on page",
          "default": 4
          }
        ]
      },
      {
        "name": "Single Checkbox",
        "type": "text_singlecheckbox",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Input Label"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Input Id"
          },
          {
            "type": "checkbox",
            "id": "checked",
            "label": "Checked",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": false
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "none"
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      },
      {
        "name": "Multiple Checkboxes",
        "type": "text_multiplecheckboxes",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Multiple Checkboxes Heading"
          },
          {
            "type": "textarea",
            "id": "options",
            "label": "Checkbox Options",
            "info":"A coma sepeated list of labels for each checkbox"
          },
          {
            "type": "text",
            "id": "id",
            "label": "Input Id"
          },
          {
            "type": "checkbox",
            "id": "is_required",
            "label": "Required",
            "default": true
          },
          {
            "type": "select",
            "id": "position",
            "label": "Label Display",
            "options": [
              {
                "value": "none",
                "label": "Display None"
              },
              {
                "value": "top",
                "label": "Top"
              },
              {
                "value": "right",
                "label": "Right"
              },
              {
                "value": "bottom",
                "label": "Bottom"
              },
              {
                "value": "left",
                "label": "Left"
              }
            ],
            "default": "none"
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      },
      {
        "name": "Submit Button",
        "type": "text_submit_button",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Submit Button Text"
          },
          {
            "type": "range",
            "id": "width",
            "min": 0,
            "max": 12,
            "step": 1,
            "unit": "col",
            "label": "Width on page",
            "default": 12
          }
        ]
      }
    ],
    "default": {
      "settings": {
        "title": "sponsorship",
        "redirect_url": "",
        "hide_form": true,
        "show_atrix": false,
        "show_optional": false,
        "heading": "Sponsorship",
        "description": "<p>If you have any enquires, leave us a message and we will respond to your enquiry within 24 hours<\/p>",
        "position": "left"
      }
    }
  }
{% endschema %}
